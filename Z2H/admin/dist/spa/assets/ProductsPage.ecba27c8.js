import{B as ye,P as Ke,aA as Oe,c as f,h as E,Q as z,ai as $e,bA as ze,bB as He,bc as We,E as ke,_ as Y,r as n,L as be,w as le,l as N,v as M,n as l,d as t,a8 as F,A as $,aM as B,M as R,bn as se,a9 as J,b as ue,bo as re,bb as ne,aa as de,ab as ie,q as d,o as ce,C as Ge,D as Ye,H as Je,a2 as Xe,g as Ze,br as et,m as oe,F as we,s as Ie,t as tt,u as Pe,x as T}from"./index.deef37dd.js";import{u as ot,a as lt,b as at,Q as Ce}from"./QTable.b5518ee1.js";import{u as X,Q as Z}from"./QSpinnerFacebook.9be6969f.js";import{Q as pe}from"./TouchPan.dca4f2e3.js";import{Q as ae,j as Ne}from"./QSelect.e39b6c21.js";import{Q as st}from"./QFile.42f3cfa0.js";import{Q as Ue}from"./QScrollArea.c20734f0.js";import{Q as me}from"./QForm.d73c1925.js";import{u as ee}from"./general.956c9bfc.js";import{Q as ut}from"./QImg.82ee1577.js";import{u as rt,a as nt,b as dt,c as it}from"./use-panel.aa4020e9.js";import{_ as ct}from"./CustomTooltip.6f3bb10d.js";import"./QList.bc73fcbc.js";import"./QMarkupTable.84c1aa21.js";import"./touch.3df10340.js";import"./format.ab1acd9d.js";import"./QResizeObserver.f7a32600.js";import"./QScrollObserver.d28c85ed.js";import"./axios.3145085f.js";import"./use-cache.b0833c75.js";var ge=ye({name:"QBreadcrumbsEl",props:{...Ke,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(e,{slots:i}){const{linkTag:p,linkAttrs:m,linkClass:u,navigateOnClick:r}=Oe(),v=f(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(e.disable!==!0?"q-link--focusable"+u.value:"q-breadcrumbs__el--disable"),...m.value,onClick:r})),h=f(()=>"q-breadcrumbs__el-icon"+(e.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const w=[];return e.icon!==void 0&&w.push(E(z,{class:h.value,name:e.icon})),e.label!==void 0&&w.push(e.label),E(p.value,{...v.value},$e(i.default,w))}}});const pt=["",!0];var mt=ye({name:"QBreadcrumbs",props:{...ze,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:e=>["none","xs","sm","md","lg","xl"].includes(e),default:"sm"}},setup(e,{slots:i}){const p=He(e),m=f(()=>`flex items-center ${p.value}${e.gutter==="none"?"":` q-gutter-${e.gutter}`}`),u=f(()=>e.separatorColor?` text-${e.separatorColor}`:""),r=f(()=>` text-${e.activeColor}`);return()=>{const v=We(ke(i.default));if(v.length===0)return;let h=1;const w=[],k=v.filter(b=>b.type!==void 0&&b.type.name==="QBreadcrumbsEl").length,q=i.separator!==void 0?i.separator:()=>e.separator;return v.forEach(b=>{if(b.type!==void 0&&b.type.name==="QBreadcrumbsEl"){const U=h<k,V=b.props!==null&&pt.includes(b.props.disable),x=(U===!0?"":" q-breadcrumbs--last")+(V!==!0&&U===!0?r.value:"");h++,w.push(E("div",{class:`flex items-center${x}`},[b])),U===!0&&w.push(E("div",{class:"q-breadcrumbs__separator"+u.value},q()))}else w.push(b)}),E("div",{class:"q-breadcrumbs"},[E("div",{class:m.value},w)])}}});const W=e=>(de("data-v-5c9c9125"),e=e(),ie(),e),vt=W(()=>d("div",{class:"text-h6 text-bold",style:{color:"#123499"}}," Create New Product ",-1)),gt=W(()=>d("div",{class:"text-bold"},"Product Name",-1)),yt=W(()=>d("div",{class:"text-bold"},"Description",-1)),bt=W(()=>d("div",{class:"text-bold"},"HSN Code",-1)),ft=W(()=>d("div",{class:"text-bold"},"Product Category",-1)),_t=W(()=>d("div",{class:"text-bold q-mt-lg"},"Product Sub Category",-1)),Pt=W(()=>d("div",{class:"text-bold q-mt-lg"},"Product Images",-1)),Ct={__name:"createNewProductModal",props:{showNewProductPopup:{type:Boolean,required:!0,default:!1},closeNewProductPopup:{type:Function,required:!0}},setup(e){const i=e,p=ee(),m=n(""),u=n(""),r=n(""),v=n(""),h=n(""),w=n([]),k=n(null),q=n([]),b=X(),{productCategories:U}=be(p),V=f({get:()=>i.showNewProductPopup,set:()=>i.closeNewProductPopup()}),x=f(()=>{var y;let S=(y=U.value)==null?void 0:y.map(s=>s.name);return r.value=S&&S[0],S}),_=f(()=>{var s;return((s=U.value)==null?void 0:s.find(Q=>Q.name===r.value)).sub_categories.find(Q=>Q.name===v.value).uid}),D=f(()=>{let S=g(m.value),y=g(u.value),s=k.value&&k.value.length;return!S||!y||!s}),I=()=>{b.loading.show({spinner:Z,spinnerColor:"light-blue",messageColor:"white",backgroundColor:"light-blue",message:""})},a=()=>{b.loading.hide()},o=S=>{i.closeNewProductPopup(S)},g=S=>S.trim().length>2,A=S=>{var s;let y=(s=U.value)==null?void 0:s.find(Q=>Q.name===S);v.value=y.sub_categories[0].name,w.value=y.sub_categories.map(Q=>Q.name)},j=()=>{I();let S={productName:m.value,productDescription:u.value,hsnCode:h.value,productImageUrls:q.value};p.createProduct(S,_.value).then(y=>{o(!0),b.notify({message:"Product Created Successfully!!!",type:"positive",position:"top"})}).catch(y=>{console.log("err",y),b.notify({message:"Something went Wrong. Please contact your admin!!!",type:"negative",position:"top"})}).finally(()=>{a()})},O=()=>{I();let S=new FormData;for(let y of k.value)S.append("file_name",y);S.append("upload_type","product_image"),p.createProductImageUrls(S).then(y=>{q.value=y.data.image_upload_paths,j()}).catch(y=>{b.notify({message:"Something went Wrong. Please contact your admin!!!",type:"negative",position:"top"})}).finally(()=>{a()})};return le(r,S=>{A(S)}),(S,y)=>(N(),M(ne,{modelValue:R(V),"onUpdate:modelValue":y[6]||(y[6]=s=>ue(V)?V.value=s:null),persistent:"",onKeydown:re(o,["esc"])},{default:l(()=>[t(J,{class:"product-modal q-pl-md"},{default:l(()=>[t(F,{class:"row items-center"},{default:l(()=>[vt,t(pe),t($,{icon:"close",flat:"",round:"",onClick:o})]),_:1}),t(me,{onSubmit:O},{default:l(()=>[t(Ue,{style:{height:"calc(70vh - 170px)"}},{default:l(()=>[t(F,null,{default:l(()=>[gt,t(B,{modelValue:m.value,"onUpdate:modelValue":y[0]||(y[0]=s=>m.value=s),style:{"max-width":"400px"},outlined:"",dense:"",autofocus:"",placeholder:"Enter a Product name",maxlength:"64",rules:[s=>g(s)||"Field is required!!!"]},null,8,["modelValue","rules"]),yt,t(B,{modelValue:u.value,"onUpdate:modelValue":y[1]||(y[1]=s=>u.value=s),type:"textarea",style:{width:"400px"},outlined:"",dense:"",autofocus:"",rows:"2",placeholder:"Enter Product Description","input-class":"textarea-input",rules:[s=>g(s)||"Field is required!!!"]},null,8,["modelValue","rules"]),bt,t(B,{modelValue:h.value,"onUpdate:modelValue":y[2]||(y[2]=s=>h.value=s),style:{"max-width":"400px"},outlined:"",dense:"",autofocus:"",placeholder:"Enter a HSN Code",maxlength:"64",rules:[s=>g(s)||"Field is required!!!"]},null,8,["modelValue","rules"]),ft,t(ae,{style:{width:"400px"},filled:"",dense:"",modelValue:r.value,"onUpdate:modelValue":y[3]||(y[3]=s=>r.value=s),options:R(x)},null,8,["modelValue","options"]),_t,t(ae,{style:{width:"400px"},filled:"",dense:"",modelValue:v.value,"onUpdate:modelValue":y[4]||(y[4]=s=>v.value=s),options:w.value},null,8,["modelValue","options"]),Pt,t(st,{modelValue:k.value,"onUpdate:modelValue":y[5]||(y[5]=s=>k.value=s),label:"Add Images",filled:"",dense:"",multiple:"",append:"",accept:".jpg,.jpeg,.png",style:{width:"400px"}},null,8,["modelValue"])]),_:1})]),_:1}),t(F,{class:"row justify-end"},{default:l(()=>[t(se,{class:"q-px-none"},{default:l(()=>[t($,{unelevated:"",color:"primary",label:"Save",disable:R(D),type:"submit","no-caps":""},null,8,["disable"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onKeydown"]))}};var wt=Y(Ct,[["__scopeId","data-v-5c9c9125"]]);const he=e=>(de("data-v-39d119d4"),e=e(),ie(),e),ht=he(()=>d("div",{class:"text-h6 text-bold",style:{color:"#123499"}}," Create New Product Category ",-1)),xt=he(()=>d("div",{class:"text-bold"},"Name",-1)),St=he(()=>d("div",{class:"text-bold"},"Description",-1)),Vt={__name:"createNewProductCategoryModal",props:{showNewProductCategoryPopup:{type:Boolean,required:!0,default:!1},closeNewProductCategoryPopup:{type:Function,required:!0}},setup(e){const i=e,p=ee(),m=n(""),u=n(""),r=X(),v=f({get:()=>i.showNewProductCategoryPopup,set:()=>i.closeNewProductCategoryPopup()}),h=f(()=>{let V=b(m.value),x=b(u.value);return!V||!x}),w=()=>{r.loading.show({spinner:Z,spinnerColor:"light-blue",messageColor:"white",backgroundColor:"light-blue",message:""})},k=()=>{r.loading.hide()},q=()=>{i.closeNewProductCategoryPopup()},b=V=>V.trim().length>2,U=()=>{w();let V={name:m.value,description:u.value};p.createProductCategory(V).then(x=>{r.notify({message:"Product Category Created Successfully!!!",type:"positive",position:"top"}),q()}).catch(x=>{r.notify({message:"Error in updating Product Category. Please contact your admin!!!",type:"negative",position:"top"})}).finally(()=>{k()})};return(V,x)=>(N(),M(ne,{modelValue:R(v),"onUpdate:modelValue":x[2]||(x[2]=_=>ue(v)?v.value=_:null),persistent:"",onKeydown:re(q,["esc"])},{default:l(()=>[t(J,{class:"product-category-modal q-pl-md"},{default:l(()=>[t(F,{class:"row items-center"},{default:l(()=>[ht,t(pe),t($,{icon:"close",flat:"",round:"",onClick:q})]),_:1}),t(me,{onSubmit:U},{default:l(()=>[t(F,null,{default:l(()=>[xt,t(B,{modelValue:m.value,"onUpdate:modelValue":x[0]||(x[0]=_=>m.value=_),style:{"max-width":"400px"},outlined:"",dense:"",autofocus:"",placeholder:"Enter a Product Catgeoty name",maxlength:"64",rules:[_=>b(_)||"Field is required!!!"]},null,8,["modelValue","rules"]),St,t(B,{modelValue:u.value,"onUpdate:modelValue":x[1]||(x[1]=_=>u.value=_),type:"textarea",style:{width:"400px"},outlined:"",dense:"",autofocus:"",rows:"3",placeholder:"Enter a Product Category Description","input-class":"textarea-input",rules:[_=>b(_)||"Field is required!!!"]},null,8,["modelValue","rules"])]),_:1}),t(F,{class:"row justify-end"},{default:l(()=>[t(se,{class:"q-px-none"},{default:l(()=>[t($,{unelevated:"",color:"primary",label:"Save",disable:R(h),type:"submit","no-caps":""},null,8,["disable"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onKeydown"]))}};var qt=Y(Vt,[["__scopeId","data-v-39d119d4"]]);const fe=e=>(de("data-v-b7751346"),e=e(),ie(),e),Nt=fe(()=>d("div",{class:"text-h6 text-bold",style:{color:"#123499"}}," Create New Product Sub Category ",-1)),$t=fe(()=>d("div",{class:"text-bold"},"Name",-1)),kt=fe(()=>d("div",{class:"text-bold"},"Description",-1)),It=fe(()=>d("div",{class:"text-bold"},"Product Category",-1)),Ut={__name:"createNewProductSubCategoryModal",props:{showNewProductSubCategoryPopup:{type:Boolean,required:!0,default:!1},closeNewProductSubCategoryPopup:{type:Function,required:!0}},setup(e){const i=e,p=ee(),m=n(""),u=n(""),r=n(""),v=X(),{productCategories:h}=be(p),w=f({get:()=>i.showNewProductSubCategoryPopup,set:()=>i.closeNewProductSubCategoryPopup()}),k=f(()=>{var o;let a=(o=h.value)==null?void 0:o.map(g=>g.name);return m.value=a&&a[0],a}),q=f(()=>{var o;return((o=h.value)==null?void 0:o.find(g=>g.name===m.value)).id}),b=f(()=>{var o;return((o=h.value)==null?void 0:o.find(g=>g.name===m.value)).uid}),U=f(()=>{let a=D(r.value),o=D(u.value);return!a||!o}),V=()=>{v.loading.show({spinner:Z,spinnerColor:"light-blue",messageColor:"white",backgroundColor:"light-blue",message:""})},x=()=>{v.loading.hide()},_=()=>{i.closeNewProductSubCategoryPopup()},D=a=>a.trim().length>2,I=()=>{V();let a={name:r.value,description:u.value,category:q.value};p.createProductSubCategory(a,b.value).then(o=>{v.notify({message:"Product Sub Category Created Successfully!!!",type:"positive",position:"top"}),_()}).catch(o=>{v.notify({message:"Error in updating Product Sub Category. Please contact your admin!!!",type:"negative",position:"top"})}).finally(()=>{x()})};return ce(()=>{p.getProductCategories()}),(a,o)=>(N(),M(ne,{modelValue:R(w),"onUpdate:modelValue":o[3]||(o[3]=g=>ue(w)?w.value=g:null),persistent:"",onKeydown:re(_,["esc"])},{default:l(()=>[t(J,{class:"product-sub-category-modal q-pl-md"},{default:l(()=>[t(F,{class:"row items-center"},{default:l(()=>[Nt,t(pe),t($,{icon:"close",flat:"",round:"",onClick:_})]),_:1}),t(me,{onSubmit:I},{default:l(()=>[t(F,null,{default:l(()=>[$t,t(B,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=g=>r.value=g),style:{"max-width":"400px"},outlined:"",dense:"",autofocus:"",placeholder:"Enter a Product Sub Catgeoty name",maxlength:"64",rules:[g=>D(g)||"Field is required!!!"]},null,8,["modelValue","rules"]),kt,t(B,{modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]=g=>u.value=g),type:"textarea",style:{width:"400px"},outlined:"",dense:"",autofocus:"",rows:"3",placeholder:"Enter a Product Category Description","input-class":"textarea-input",rules:[g=>D(g)||"Field is required!!!"]},null,8,["modelValue","rules"]),It,t(ae,{style:{width:"400px"},filled:"",dense:"",modelValue:m.value,"onUpdate:modelValue":o[2]||(o[2]=g=>m.value=g),options:R(k)},null,8,["modelValue","options"])]),_:1}),t(F,{class:"row justify-end"},{default:l(()=>[t(se,{class:"q-px-none"},{default:l(()=>[t($,{unelevated:"",color:"primary",label:"Save",disable:R(U),type:"submit","no-caps":""},null,8,["disable"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onKeydown"]))}};var Dt=Y(Ut,[["__scopeId","data-v-b7751346"]]);const xe=e=>(de("data-v-256aa6a2"),e=e(),ie(),e),Mt=xe(()=>d("div",{class:"text-h6 text-bold",style:{color:"#123499"}}," Map a Product to Plan ",-1)),Rt=xe(()=>d("div",{class:"text-bold"},"Plan",-1)),Qt=xe(()=>d("div",{class:"text-bold q-mt-lg"},"Products",-1)),Ft={__name:"mapPlanProductModal",props:{showNewMapPlanPopup:{type:Boolean,required:!0,default:!1},closeNewMapPlanPopup:{type:Function,required:!0}},setup(e){const i=e,p=ee(),m=n(null),u=n(null),r=X(),{planDetails:v,inactiveProducts:h}=be(p),w=f({get:()=>i.showNewMapPlanPopup,set:()=>i.closeNewMapPlanPopup()}),k=f(()=>v.value.map(a=>a.name)),q=f(()=>{var a;return(a=h.value)==null?void 0:a.map(o=>o.name)}),b=f(()=>{let a=!!m.value,o=u.value&&u.value.length;return!a||!o}),U=f(()=>v.value.find(a=>a.name===m.value).uid),V=f(()=>{let a=[];for(let o of u.value){let g=h.value.find(A=>A.name===o);a.push(g==null?void 0:g.uid)}return a}),x=()=>{r.loading.show({spinner:Z,spinnerColor:"light-blue",messageColor:"white",backgroundColor:"light-blue",message:""})},_=()=>{r.loading.hide()},D=a=>{i.closeNewMapPlanPopup(a)},I=()=>{x();let a={plan_uid:U.value,product_uids:V.value};p.mapProductToPlan(a).then(o=>{r.notify({message:"Product(s) mapped to Plan Successfully!!!",type:"positive",position:"top"}),D(!0)}).catch(o=>{r.notify({message:"Error in Mapping Pan to Product(s). Please contact your admin!!!",type:"negative",position:"top"})}).finally(()=>{_()})};return ce(()=>{p.getAppPlanDetails(),p.getAllProducts({product_type:"inactive"})}),(a,o)=>(N(),M(ne,{modelValue:R(w),"onUpdate:modelValue":o[2]||(o[2]=g=>ue(w)?w.value=g:null),persistent:"",onKeydown:re(D,["esc"])},{default:l(()=>[t(J,{class:"map-plan-modal q-pl-md"},{default:l(()=>[t(F,{class:"row items-center"},{default:l(()=>[Mt,t(pe),t($,{icon:"close",flat:"",round:"",onClick:D})]),_:1}),t(me,{onSubmit:I},{default:l(()=>[t(F,null,{default:l(()=>[Rt,t(ae,{style:{width:"400px"},filled:"",dense:"",modelValue:m.value,"onUpdate:modelValue":o[0]||(o[0]=g=>m.value=g),options:R(k),label:"Choose Plan"},null,8,["modelValue","options"]),Qt,t(ae,{filled:"",dense:"",modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]=g=>u.value=g),multiple:"",options:R(q),style:{width:"400px"},label:"Choose Product(s)"},null,8,["modelValue","options"])]),_:1}),t(F,{class:"row justify-end"},{default:l(()=>[t(se,{class:"q-px-none"},{default:l(()=>[t($,{unelevated:"",color:"primary",label:"Save",disable:R(b),type:"submit","no-caps":""},null,8,["disable"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onKeydown"]))}};var Et=Y(Ft,[["__scopeId","data-v-256aa6a2"]]);const G=e=>(de("data-v-6c2b38b8"),e=e(),ie(),e),Bt=G(()=>d("div",{class:"text-h6 text-bold",style:{color:"#123499"}}," Add Product Returned ",-1)),Lt=G(()=>d("div",{class:"text-bold"},"Product ID",-1)),Tt=G(()=>d("div",{class:"text-bold q-mt-md"},"Customer ID",-1)),At=G(()=>d("div",{class:"text-bold q-mt-md"},"Customer Name",-1)),jt=G(()=>d("div",{class:"text-bold q-mt-md"},"Mobile Number",-1)),Kt=G(()=>d("div",{class:"text-bold q-mt-md"},"Product Returned Date",-1)),Ot=G(()=>d("div",{class:"text-bold q-mt-lg"},"Comments",-1)),zt={__name:"createNewProductReturnsModal",props:{showNewReturnPopup:{type:Boolean,required:!0,default:!1},closeNewReturnPopup:{type:Function,required:!0}},setup(e){const i=e,p=ee(),m=n(""),u=n(""),r=n(""),v=n(""),h=n(""),w=n(""),k=X(),q=f({get:()=>i.showNewReturnPopup,set:()=>i.closeNewReturnPopup()}),b=f(()=>{let I=_(u.value),a=_(m.value),o=_(r.value),g=_(v.value),A=_(h.value),j=_(w.value);return!I||!a||!o||!g||!A||!j}),U=()=>{k.loading.show({spinner:Z,spinnerColor:"light-blue",messageColor:"white",backgroundColor:"light-blue",message:""})},V=()=>{k.loading.hide()},x=I=>{i.closeNewReturnPopup(I)},_=I=>I&&I.toString().trim().length>0,D=()=>{U();let I={product_id:m.value,customer_id:u.value,customer_name:r.value,mobile_number:v.value,product_returned_date:h.value,comments:w.value};p.createProductReturned(I).then(a=>{k.notify({message:"Product Returned Added Successfully!!!",type:"positive",position:"top"}),x()}).catch(a=>{k.notify({message:"Error in adding Returned Product. Please contact your admin!!!",type:"negative",position:"top"})}).finally(()=>{V()})};return(I,a)=>(N(),M(ne,{modelValue:R(q),"onUpdate:modelValue":a[6]||(a[6]=o=>ue(q)?q.value=o:null),persistent:"",onKeydown:re(x,["esc"])},{default:l(()=>[t(J,{class:"product-return-modal q-pl-md"},{default:l(()=>[t(F,{class:"row items-center"},{default:l(()=>[Bt,t(pe),t($,{icon:"close",flat:"",round:"",onClick:x})]),_:1}),t(me,{onSubmit:D},{default:l(()=>[t(Ue,{style:{height:"calc(75vh - 170px)"}},{default:l(()=>[t(F,null,{default:l(()=>[Lt,t(B,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=o=>m.value=o),style:{"max-width":"400px"},outlined:"",dense:"",autofocus:"",rules:[o=>_(o)||"Field is required!!!"]},null,8,["modelValue","rules"]),Tt,t(B,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=o=>u.value=o),style:{"max-width":"400px"},outlined:"",dense:"",autofocus:"",rules:[o=>_(o)||"Field is required!!!"]},null,8,["modelValue","rules"]),At,t(B,{modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=o=>r.value=o),style:{"max-width":"400px"},outlined:"",dense:"",autofocus:"",rules:[o=>_(o)||"Field is required!!!"]},null,8,["modelValue","rules"]),jt,t(B,{modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=o=>v.value=o),style:{"max-width":"400px"},outlined:"",dense:"",autofocus:"",rules:[o=>_(o)||"Field is required!!!"]},null,8,["modelValue","rules"]),Kt,t(B,{modelValue:h.value,"onUpdate:modelValue":a[4]||(a[4]=o=>h.value=o),style:{"max-width":"400px"},outlined:"",dense:"",autofocus:"",type:"date"},null,8,["modelValue"]),Ot,t(B,{modelValue:w.value,"onUpdate:modelValue":a[5]||(a[5]=o=>w.value=o),type:"textarea",style:{width:"400px"},outlined:"",dense:"",autofocus:"",rows:"3",placeholder:"Enter a comment.","input-class":"textarea-input",rules:[o=>_(o)||"Field is required!!!"]},null,8,["modelValue","rules"])]),_:1})]),_:1}),t(F,{class:"row justify-end"},{default:l(()=>[t(se,{class:"q-px-none"},{default:l(()=>[t($,{unelevated:"",color:"primary",label:"Save",disable:R(b),type:"submit","no-caps":""},null,8,["disable"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onKeydown"]))}};var Ht=Y(zt,[["__scopeId","data-v-6c2b38b8"]]),Wt=ye({name:"QCarouselSlide",props:{...rt,imgSrc:String},setup(e,{slots:i}){const p=f(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>E("div",{class:"q-carousel__slide",style:p.value},ke(i.default))}});const Gt=["top","right","bottom","left"],Yt=["regular","flat","outline","push","unelevated"];var Jt=ye({name:"QCarousel",props:{...Ge,...nt,...ot,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Yt.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Gt.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...lt,...dt],setup(e,{slots:i}){const{proxy:{$q:p}}=Ze(),m=Ye(e,p);let u=null,r;const{updatePanelsList:v,getPanelContent:h,panelDirectives:w,goToPanel:k,previousPanel:q,nextPanel:b,getEnabledPanels:U,panelIndex:V}=it(),{inFullscreen:x}=at(),_=f(()=>x.value!==!0&&e.height!==void 0?{height:e.height}:{}),D=f(()=>e.vertical===!0?"vertical":"horizontal"),I=f(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(x.value===!0?" fullscreen":"")+(m.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${D.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${A.value}`:"")),a=f(()=>{const s=[e.prevIcon||p.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||p.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&p.lang.rtl===!0?s.reverse():s}),o=f(()=>e.navigationIcon||p.iconSet.carousel.navigationIcon),g=f(()=>e.navigationActiveIcon||o.value),A=f(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),j=f(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));le(()=>e.modelValue,()=>{e.autoplay&&O()}),le(()=>e.autoplay,s=>{s?O():u!==null&&(clearTimeout(u),u=null)});function O(){const s=et(e.autoplay)===!0?Math.abs(e.autoplay):5e3;u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,s>=0?b():q()},s)}ce(()=>{e.autoplay&&O()}),Je(()=>{u!==null&&clearTimeout(u)});function S(s,Q){return E("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${s} q-carousel__navigation--${A.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[E("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},U().map(Q))])}function y(){const s=[];if(e.navigation===!0){const Q=i["navigation-icon"]!==void 0?i["navigation-icon"]:L=>E($,{key:"nav"+L.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${L.active===!0?"":"in"}active`,...L.btnProps,onClick:L.onClick}),H=r-1;s.push(S("buttons",(L,K)=>{const te=L.props.name,ve=V.value===K;return Q({index:K,maxIndex:H,name:te,active:ve,btnProps:{icon:ve===!0?g.value:o.value,size:"sm",...j.value},onClick:()=>{k(te)}})}))}else if(e.thumbnails===!0){const Q=e.controlColor!==void 0?` text-${e.controlColor}`:"";s.push(S("thumbnails",H=>{const L=H.props;return E("img",{key:"tmb#"+L.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${L.name===e.modelValue?"":"in"}active`+Q,src:L.imgSrc||L["img-src"],onClick:()=>{k(L.name)}})}))}return e.arrows===!0&&V.value>=0&&((e.infinite===!0||V.value>0)&&s.push(E("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${D.value} absolute flex flex-center`},[E($,{icon:a.value[0],...j.value,onClick:q})])),(e.infinite===!0||V.value<r-1)&&s.push(E("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${D.value} absolute flex flex-center`},[E($,{icon:a.value[1],...j.value,onClick:b})]))),$e(i.control,s)}return()=>(r=v(i),E("div",{class:I.value,style:_.value},[Xe("div",{class:"q-carousel__slides-container"},h(),"sl-cont",e.swipeable,()=>w.value)].concat(y())))}});const Xt={class:"text-center q-mt-sm"},Zt={class:"text-h6 q-mt-sm"},eo={class:"product-code"},to={class:"text-subtitle1 q-mt-xm q-pb-md"},oo={__name:"ProductItems",props:{data:{type:Object,required:!0}},setup(e){const i=e,p=n("");return ce(()=>{p.value=i.data.product_image_urls.length?i.data.product_image_urls[0].uid:""}),(m,u)=>(N(),M(J,{class:"no-shadow",bordered:""},{default:l(()=>[t(Jt,{modelValue:p.value,"onUpdate:modelValue":u[0]||(u[0]=r=>p.value=r),"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"","control-color":"white",navigation:"",padding:"",height:"300px",class:"bg-light-blue-11 shadow-1 rounded-borders"},{"navigation-icon":l(({active:r,btnProps:v,onClick:h})=>[r?(N(),M($,{key:0,size:"md",icon:"home",color:"primary",flat:"",round:"",dense:"",onClick:h},null,8,["onClick"])):(N(),M($,{key:1,size:"sm",icon:v.icon,color:"white",flat:"",round:"",dense:"",onClick:h},null,8,["icon","onClick"]))]),default:l(()=>[(N(!0),oe(we,null,Ie(e.data.product_image_urls,(r,v)=>(N(),M(Wt,{name:r.uid,class:"column no-wrap flex-center"},{default:l(()=>[d("div",Xt,[t(ut,{src:r.url,height:"170px",style:{width:"50vh"}},{default:l(()=>[t(Ne,{class:"text-white absolute-top-right",color:e.data.product_active_status==="Inactive"?"red-14":"green-10",label:e.data.product_active_status},null,8,["color","label"]),t(Ne,{class:"text-white absolute-top-left",color:e.data.plan_name?"indigo-14":"red-14",label:e.data.plan_name?e.data.plan_name:"No Plan"},{default:l(()=>[t(ct,{content:`Registration Fee : ${e.data.price}`,"max-width":"15rem"},null,8,["content"])]),_:1},8,["color","label"])]),_:2},1032,["src"]),t(F,{class:"q-pa-none"},{default:l(()=>[t($,{fab:"",color:"primary",icon:"fas fa-edit",padding:"sm",class:"absolute",style:{top:"0",right:"6px",transform:"translateY(-50%)"}})]),_:1}),t(F,{class:"q-pa-none"},{default:l(()=>[d("div",Zt,[tt(Pe(e.data.name)+" ",1),d("span",eo," ["+Pe(e.data.product_code)+"] ",1)]),d("div",to,Pe(e.data.description),1)]),_:1})])]),_:2},1032,["name"]))),256))]),_:1},8,["modelValue"])]),_:1}))}};var lo=Y(oo,[["__scopeId","data-v-c7562120"]]);const ao={class:"q-px-md q-pt-md q-pb-xs float-right"},so={class:"row justify-start items-center"},uo=d("span",{class:"q-ml-sm"},"New Category",-1),ro={class:"row justify-start items-center"},no=d("span",{class:"q-ml-sm"},"New Sub Category",-1),io={class:"row justify-start items-center"},co=d("span",{class:"q-ml-sm"},"New Product",-1),po={class:"row justify-start items-center"},mo=d("span",{class:"q-ml-sm"},"Map Product Plan",-1),vo={class:"row justify-start items-center"},go=d("span",{class:"q-ml-sm"},"Returns",-1),yo={class:"q-px-md q-pt-lg q-pb-xs"},bo={class:"q-ml-md q-mt-lg q-mr-lg q-pa-md"},fo={key:3,class:"row q-col-gutter-sm"},_o={class:"col-md-4 col-lg-4 col-sm-12 col-xs-12"},To={__name:"ProductsPage",setup(e){const i=ee(),p=n(!1),m=n(!1),u=n(!1),r=n(!1),v=n(!1);let h=[{name:"categoryCode",required:!0,label:"Category Code",align:"left",field:P=>P.category_code,format:P=>`${P}`,sortable:!0},{name:"name",label:"Name",field:"name",sortable:!0},{name:"description",label:"Description",field:"description",sortable:!0},{name:"productCategoryStatus",label:"Status",field:"product_category_status",sortable:!0}],w=[{name:"subCategoryCode",required:!0,label:"Sub Category Code",align:"left",field:P=>P.sub_category_code,format:P=>`${P}`,sortable:!0},{name:"categoryCode",label:"Category Code",field:"category_code",sortable:!0},{name:"name",label:"Name",field:"name",sortable:!0},{name:"description",label:"Description",field:"description",sortable:!0},{name:"productSubCategoryStatus",label:"Status",field:"product_sub_category_status",sortable:!0}],k=[{name:"id",required:!0,label:"ID",align:"left",field:P=>P.id,format:P=>`${P}`},{name:"productId",label:"Product ID",field:"product_id"},{name:"customerId",label:"Customer ID",field:"customer_id"},{name:"customerName",label:"Customer Name",field:"customer_name"},{name:"mobileNumber",label:"Mobile Number",field:"mobile_number"},{name:"productReturnedDate",label:"Product Returned Date",field:"product_returned_date"},{name:"comments",label:"Comments",field:"comments"}];const q=n([]),b=n([]),U=n(""),V=n(""),x=n(""),_=n(!1),D=n(!1),I=n(!1),a=n(h),o=n(w),g=n(k),A=n([]),j=n([]),O=n("Category"),S=n("Sub Category"),y=n(!0),s=n(!1),Q=n(!1),H=n(!1),L=X(),{productCategories:K,products:te,productsReturned:ve}=be(i),De=f(()=>K.value&&K.value.length),_e=f(()=>K.value&&K.value.length&&K.value[0].sub_categories.length),Me=f(()=>{var P;return(P=te.value)==null?void 0:P.filter(c=>c.product_image_urls.length)}),Se=()=>{L.loading.show({spinner:Z,spinnerColor:"light-blue",messageColor:"white",backgroundColor:"light-blue",message:""})},Ve=()=>{L.loading.hide()},Re=P=>{p.value=!1},Qe=()=>{m.value=!1},Fe=()=>{u.value=!1},Ee=P=>{r.value=!1,P===!0&&qe()},Be=P=>{v.value=!1},qe=()=>{s.value=!1,q.value=[],b.value=[],Q.value=!1,H.value=!1,y.value=!0},Le=()=>{Q.value=!1,H.value=!1,!y.value&&(b.value=[],s.value=!0)},Te=()=>{y.value=!1,s.value=!1,q.value=[],b.value=[],Q.value=!1,j.value=[],H.value=!0},Ae=()=>{Se(),i.getProductCategories().then(P=>{K.value=P.data,A.value=K.value}).catch(P=>{console.log("err",P)}).finally(()=>{Ve()})},je=P=>{Se();let c={product_type:"all"};i.getProducts(P.uid,c).then(C=>{te.value=C.data,Q.value=!0}).catch(C=>{console.log("err",C)}).finally(()=>{Ve()})};return le(q,P=>{P.length?(O.value=P[0].name,y.value=!1,s.value=!0,j.value=P[0].sub_categories):O.value="Category"}),le(b,P=>{P.length?(S.value=P[0].name,s.value=!1,je(P[0])):S.value="Sub Category"}),ce(()=>{Ae(),i.getProductsReturned()}),(P,c)=>(N(),oe(we,null,[d("div",ao,[t($,{color:"primary",class:"q-mb-md q-mr-sm","no-caps":"",onClick:c[0]||(c[0]=C=>m.value=!0)},{default:l(()=>[d("div",so,[t(z,{name:"add"}),uo])]),_:1}),t($,{color:"primary",class:"q-mb-md q-mr-sm","no-caps":"",disable:!R(De),onClick:c[1]||(c[1]=C=>u.value=!0)},{default:l(()=>[d("div",ro,[t(z,{name:"add"}),no])]),_:1},8,["disable"]),t($,{color:"primary",class:"q-mb-md q-mr-sm","no-caps":"",disable:!R(_e),onClick:c[2]||(c[2]=C=>p.value=!0)},{default:l(()=>[d("div",io,[t(z,{name:"add"}),co])]),_:1},8,["disable"]),t($,{color:"primary",class:"q-mb-md q-mr-sm","no-caps":"",disable:!R(_e),onClick:c[3]||(c[3]=C=>r.value=!0)},{default:l(()=>[d("div",po,[t(z,{name:"add"}),mo])]),_:1},8,["disable"]),t($,{color:"primary",class:"q-mb-md","no-caps":"",disable:!R(_e),onClick:c[4]||(c[4]=C=>v.value=!0)},{default:l(()=>[d("div",vo,[t(z,{name:"add"}),go])]),_:1},8,["disable"])]),d("div",yo,[t(mt,{gutter:"md"},{default:l(()=>[t(ge,{label:O.value,class:"text-bold",style:{cursor:"pointer"},onClick:qe},null,8,["label"]),t(ge,{label:S.value,style:{cursor:"pointer"},class:"text-bold",onClick:Le},null,8,["label"]),t(ge,{label:"Products",class:"text-bold"}),t(ge,{label:"Returns",style:{cursor:"pointer"},class:"text-bold",onClick:Te})]),_:1})]),d("div",bo,[y.value?(N(),M(Ce,{key:0,class:"product-categories-table",flat:"",bordered:"",title:"Product Categories",rows:A.value,columns:a.value,"row-key":"category_code",selection:"single",selected:q.value,"onUpdate:selected":c[7]||(c[7]=C=>q.value=C),filter:U.value},{"top-right":l(()=>[_.value?(N(),M(B,{key:0,filled:"",borderless:"",dense:"",debounce:"300",modelValue:U.value,"onUpdate:modelValue":c[5]||(c[5]=C=>U.value=C),placeholder:"Search"},{append:l(()=>[t(z,{name:"search"})]),_:1},8,["modelValue"])):T("",!0),t($,{class:"q-ml-sm",icon:"filter_list",onClick:c[6]||(c[6]=C=>_.value=!_.value),flat:""})]),_:1},8,["rows","columns","selected","filter"])):T("",!0),s.value?(N(),M(Ce,{key:1,class:"product-sub-categories-table",flat:"",bordered:"",title:"Product Sub Categories",rows:j.value,columns:o.value,"row-key":"sub_category_code",selection:"single",selected:b.value,"onUpdate:selected":c[10]||(c[10]=C=>b.value=C),filter:V.value},{"top-right":l(()=>[D.value?(N(),M(B,{key:0,filled:"",borderless:"",dense:"",debounce:"300",modelValue:V.value,"onUpdate:modelValue":c[8]||(c[8]=C=>V.value=C),placeholder:"Search"},{append:l(()=>[t(z,{name:"search"})]),_:1},8,["modelValue"])):T("",!0),t($,{class:"q-ml-sm",icon:"filter_list",onClick:c[9]||(c[9]=C=>D.value=!D.value),flat:""})]),_:1},8,["rows","columns","selected","filter"])):T("",!0),H.value?(N(),M(Ce,{key:2,class:"product-returned-table",flat:"",bordered:"",title:"Product(s) Returned",rows:R(ve),columns:g.value,"row-key":"id",filter:x.value},{"top-right":l(()=>[I.value?(N(),M(B,{key:0,filled:"",borderless:"",dense:"",debounce:"300",modelValue:x.value,"onUpdate:modelValue":c[11]||(c[11]=C=>x.value=C),placeholder:"Search"},{append:l(()=>[t(z,{name:"search"})]),_:1},8,["modelValue"])):T("",!0),t($,{class:"q-ml-sm",icon:"filter_list",onClick:c[12]||(c[12]=C=>I.value=!I.value),flat:""})]),_:1},8,["rows","columns","filter"])):T("",!0),Q.value?(N(),oe("div",fo,[(N(!0),oe(we,null,Ie(R(Me),(C,Po)=>(N(),oe("div",_o,[t(lo,{data:C},null,8,["data"])]))),256))])):T("",!0)]),p.value?(N(),M(wt,{key:0,modelValue:p.value,"onUpdate:modelValue":c[13]||(c[13]=C=>p.value=C),"show-new-product-popup":p.value,"close-new-product-popup":Re},null,8,["modelValue","show-new-product-popup"])):T("",!0),m.value?(N(),M(qt,{key:1,modelValue:m.value,"onUpdate:modelValue":c[14]||(c[14]=C=>m.value=C),"show-new-product-category-popup":m.value,"close-new-product-category-popup":Qe},null,8,["modelValue","show-new-product-category-popup"])):T("",!0),u.value?(N(),M(Dt,{key:2,modelValue:u.value,"onUpdate:modelValue":c[15]||(c[15]=C=>u.value=C),"show-new-product-sub-category-popup":u.value,"close-new-product-sub-category-popup":Fe},null,8,["modelValue","show-new-product-sub-category-popup"])):T("",!0),r.value?(N(),M(Et,{key:3,modelValue:r.value,"onUpdate:modelValue":c[16]||(c[16]=C=>r.value=C),"show-new-map-plan-popup":r.value,"close-new-map-plan-popup":Ee},null,8,["modelValue","show-new-map-plan-popup"])):T("",!0),v.value?(N(),M(Ht,{key:4,modelValue:v.value,"onUpdate:modelValue":c[17]||(c[17]=C=>v.value=C),"show-new-return-popup":v.value,"close-new-return-popup":Be},null,8,["modelValue","show-new-return-popup"])):T("",!0)],64))}};export{To as default};
