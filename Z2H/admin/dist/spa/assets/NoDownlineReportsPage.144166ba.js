import{r as a,o as v,l as d,m as y,d as o,n as i,A as _,q as b,Q as p,v as x,aM as C,x as q}from"./index.deef37dd.js";import{Q}from"./QTable.b5518ee1.js";import{u as k,Q as M}from"./QSpinnerFacebook.9be6969f.js";import{u as U}from"./axios.3145085f.js";import{e as I}from"./exportToExcel.4db6e6be.js";import"./QList.bc73fcbc.js";import"./QMarkupTable.84c1aa21.js";import"./QSelect.e39b6c21.js";import"./format.ab1acd9d.js";const P={class:"q-ml-md q-mt-lg q-mr-lg q-pa-md"},R={class:"row justify-start items-center"},V=b("span",{class:"q-ml-sm"},null,-1),G={__name:"NoDownlineReportsPage",setup(B){const f=U();let g=[{name:"registerDate",label:"Register Date",field:"register_date",align:"left"},{name:"pendingDays",label:"Pending Days",field:"pending_days",align:"center"},{name:"customerNumber",label:"Customer ID",field:"customer_number",align:"center"},{name:"customerName",label:"Customer Name",field:"customer_name",align:"center"},{name:"customerMobileNumber",label:"Customer Mobile Number",field:"mobile_number",align:"center"},{name:"uplineID",label:"Upline ID",field:"referrer_id",align:"center"},{name:"uplineName",label:"Upline Name",field:"referrer_name",align:"center"},{name:"uplineMobileNumber",label:"Upline Mobile Number",field:"referrer_mobile_number",align:"center"}];const n=a([]),D=a(g),t=a(""),s=a(!1),m=k(),u=()=>{m.loading.show({spinner:M,spinnerColor:"light-blue",messageColor:"white",backgroundColor:"light-blue",message:""})},c=()=>{m.loading.hide()},N=()=>{u(),f.getNoDownlineReports().then(r=>{n.value=r.data.customers_not_got_downline}).catch(r=>{console.log("err",r)}).finally(()=>{c()})},w=()=>{u();let r="No_Downline_Ten_Days_From_Payment_Date.xlsx",l=[];for(let e of n.value){let h={"Register Date":e.register_date,"Pending Days":e.pending_days,"Customer ID":e.customer_number,"Customer Name":e.customer_name,"Customer Mobile Number":e.mobile_number,"Upline ID":e.referrer_id,"Upline Name":e.referrer_name,"Upline Mobile Number":e.referrer_mobile_number};l.push(h)}I(l,r),c()};return v(()=>{N()}),(r,l)=>(d(),y("div",P,[o(_,{color:"green",class:"q-mb-md",style:{width:"20px"},"no-caps":"",onClick:w},{default:i(()=>[b("div",R,[o(p,{name:"fas fa-file-excel"}),V])]),_:1}),o(Q,{class:"no-downline-table",flat:"",bordered:"",title:"No Downline (10 days from Payment Date)",rows:n.value,columns:D.value,filter:t.value},{"top-right":i(()=>[s.value?(d(),x(C,{key:0,filled:"",borderless:"",dense:"",debounce:"300",modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),placeholder:"Search"},{append:i(()=>[o(p,{name:"search"})]),_:1},8,["modelValue"])):q("",!0),o(_,{class:"q-ml-sm",icon:"filter_list",onClick:l[1]||(l[1]=e=>s.value=!s.value),flat:""})]),_:1},8,["rows","columns","filter"])]))}};export{G as default};
